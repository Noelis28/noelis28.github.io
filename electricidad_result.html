<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="icon" type="image/png" href="{{ url_for('static', filename='img/favicon.png') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<title>EcoHuella - Resultado Electricidad</title>

<style>
    /* Animación para el enlace de recomendaciones */
    .recomendaciones-link {
    color: #0EB07C;
    text-decoration: underline;
    cursor: pointer;
    transition: color 0.3s ease, transform 0.3s ease;
      animation: pulse 2s infinite; /* Animación de pulso */
    }
    .recomendaciones-link:hover {
    color: #EB8028;
    transform: scale(1.05);
    }
    @keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
    }
</style>


</head>
<body>
<header class="header">
    <div class="header__text">
    <h1>Descubre tu Huella de Carbono con EcoHuella</h1>
    <p>¡Calcula, reduce y salva el planeta! Responde preguntas simples sobre tu estilo de vida y obtén consejos personalizados para un futuro sostenible.</p>
    </div>
</header>
<main>
    {% block content %}
    <h2 class="main__title main__title--margin">Tu huella de carbono en electricidad:</h2>
    <div class="main__rez" id="end">

        {%if impacto == "bajo"%}
        <img class="rez__img" src="{{ url_for('static', filename='img/planet_good.svg') }}" alt="">
        <span>Tu impacto es {{ impacto }}</span>
        <span>¡Excelente! Tu consumo de electricidad es eficiente.
            <a class="recomendaciones-link" onclick="reproducirRecomendaciones('{{ impacto }}')">Escuchar Recomendaciones Personalizadas</a></span>
        {%elif impacto == "medio"%}
        <img class="rez__img" src="{{ url_for('static', filename='img/planet_medium.svg') }}" alt="">
        <span>Tu impacto es {{ impacto }}</span>
        <span>Tu huella en electricidad es media. Considera energías renovables. 
            <a class="recomendaciones-link" onclick="reproducirRecomendaciones('{{ impacto }}')">Escuchar Recomendaciones Personalizadas</a></span>
        {%elif impacto == "alto"%}
        <img class="rez__img" src="{{ url_for('static', filename='img/planet_bad.svg') }}" alt="">
        <span>Tu impacto es {{ impacto }}</span>
        <span>¡Tu huella de carbono en electricidad es alta! 
            <a class="recomendaciones-link" onclick="reproducirRecomendaciones('{{ impacto }}')">Escuchar Recomendaciones Personalizadas</a></span>
        {%endif%}
    </div>
    <a href="/" class="main__link">Volver al inicio</a>
    {% endblock %}
</main>


<script>
    // Función para reproducir recomendaciones personalizadas
    function reproducirRecomendaciones(impacto) {
        const synth = window.speechSynthesis;
        let mensaje = '';

        if (impacto === 'bajo') {
            mensaje = "Hola, soy tu asistente de EcoHuella. ¡Felicidades! Tu consumo de electricidad es eficiente, contribuyendo enormemente a la sostenibilidad. Sigue usando bombillas LED eficientes, instala sensores de movimiento para ahorrar más energía, educa a tu hogar sobre apagar aparatos innecesarios, considera paneles solares para generar tu propia energía renovable, y monitorea tu consumo mensual celebrando cada reducción. ¡Eres un modelo de eficiencia energética!";
        } else if (impacto === 'medio') {
            mensaje = "Hola, soy tu asistente de EcoHuella. Tu huella en electricidad es media, perfecto para implementar mejoras prácticas. Reemplaza bombillas tradicionales por LED en toda la casa, apaga electrodomésticos cuando no los uses incluso en standby, opta por aparatos con certificación de eficiencia energética, usa temporizadores para luces y aparatos en habitaciones vacías, e involucra a tu familia en rutinas de ahorro energético. ¡Cada watt cuenta!";
        } else if (impacto === 'alto') {
            mensaje = "Hola, soy tu asistente de EcoHuella. Tu huella en electricidad es alta, pero podemos reducirla significativamente. Reduce horas de uso de aparatos electrónicos diarios, cambia a energías renovables como solar o eólica si es posible, evita dejar cargadores enchufados sin uso para cortar consumo fantasma, revisa y repara electrodomésticos viejos que consumen más, y establece límites diarios de uso de aire acondicionado o calefacción. ¡Juntos podemos hacer un cambio positivo!";
        }


      // Configurar y reproducir
        const voices = synth.getVoices();
        let selectedVoice = voices.find(voice => voice.lang === 'es-ES' && voice.name.includes('Female'));
        if (!selectedVoice) selectedVoice = voices.find(voice => voice.lang === 'es-ES');

        const utterance = new SpeechSynthesisUtterance(mensaje);
        utterance.voice = selectedVoice;
        utterance.rate = 1; // Velocidad más lenta
        utterance.pitch = 1.1; // Tono más natural
        utterance.volume = 1; // Volumen máximo

        synth.speak(utterance);
    }


{

}

</script>


</body>
</html>